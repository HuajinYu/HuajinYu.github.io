<!DOCTYPE html>
<!--[if lte IE 8 ]>
<html class="ie" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<!--
***************  *      *     *
      8          *    *       *
      8          *  *         *
      8          **           *
      8          *  *         *
      8          *    *       *
      8          *      *     *
      8          *        *   ***********    -----Theme By Kieran(http://go.kieran.top)
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<!--<![endif]-->

<head>
  <title>Homework5 | HuajinYu&#39;s Blog</title>
  <!-- Meta data -->
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="HuajinYu's Blog">
    <meta name="author" content="Huajin Yu">
    <meta name="description" content="" />
    <meta name="keywords" content="" />

    <!-- Favicon, (keep icon in root folder) -->
    <link rel="Shortcut Icon" href="/img/favicon.ico" type="image/ico">

    <link rel="alternate" href="/atom.xml" title="HuajinYu&#39;s Blog" type="application/atom+xml">
    <link rel="stylesheet" href="/css/all.css" media="screen" type="text/css">
    
    <link rel="stylesheet" href="/highlightjs/vs.css" type="text/css">
    

    <!--[if IE 8]>
    <link rel="stylesheet" type="text/css" href="/css/ie8.css" />
    <![endif]-->

    <!-- jQuery | Load our jQuery, with an alternative source fallback to a local version if request is unavailable -->
    <script src="/js/jquery-1.11.1.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.11.1.min.js"><\/script>')</script>

    <!-- Load these in the <head> for quicker IE8+ load times -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="/js/html5shiv.min.js"></script>
    <script src="/js/respond.min.js"></script>
    <![endif]-->

  
  
  

  <style>.col-md-8.col-md-offset-2.opening-statement img{display:none;}</style>
</head>

<!--
<body class="post-template">
-->
<body id="index" class="lightnav animsition">

      <!-- ============================ Off-canvas navigation =========================== -->

    <div class="sb-slidebar sb-right sb-style-overlay sb-momentum-scrolling">
        <div class="sb-close" aria-label="Close Menu" aria-hidden="true">
            <img src="/img/close.png" alt="Close"/>
        </div>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu">
            <li><a href="/" class="animsition-link" title="Home">Home</a></li>
            <li><a href="/archives" class="animsition-link" title="archive">archives</a></li>
            <!-- Dropdown Menu -->
			 
            <li>
                <a class="sb-toggle-submenu">Works<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                    
                        <li><a href="/" target="_BLANK" class="animsition-link">AAA</a></li>
                    
                        <li><a href="/atom.xml" target="_BLANK" class="animsition-link">BBB</a></li>
                    
                </ul>
            </li>
            
            
            
            <li>
                <a class="sb-toggle-submenu">Links<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                    
                    <li><a href="http://go.kieran.top/" class="animsition-link">Kieran</a></li>
                    
                    <li><a href="http://domain.com/" class="animsition-link">Name</a></li>
                    
                </ul>
            </li>
            
        </ul>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu secondary">
            
            <li><a href="/about.html" class="animsition-link" title="about">About</a></li>
            <li><a href="/atom.xml" class="animsition-link" title="rss">RSS</a></li>
        </ul>
    </div>
    
    <!-- ============================ END Off-canvas navigation =========================== -->

    <!-- ============================ #sb-site Main Page Wrapper =========================== -->

    <div id="sb-site">
        <!-- #sb-site - All page content should be contained within this id, except the off-canvas navigation itself -->

        <!-- ============================ Header & Logo bar =========================== -->

        <div id="navigation" class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <!-- Nav logo -->
                    <div class="logo">
                        <a href="/" title="Logo" class="animsition-link">
                         <img src="/img/logo.png" alt="Logo" width="35px;"/> 
                        </a>
                    </div>
                    <!-- // Nav logo -->
                    <!-- Info-bar -->
                    <nav>
                        <ul class="nav">
                            <li><a href="/" class="animsition-link">HuajinYu's Blog</a></li>
                            <li class="nolink"><span>Always </span>Creative.</li>
                            
                            <li><a href="https://github.com/" title="Github" target="_blank"><i class="icon-github"></i></a></li>
                            
                            
                            <li><a href="https://twitter.com/" title="Twitter" target="_blank"><i class="icon-twitter"></i></a></li>
                            
                            
                            <li><a href="https://www.facebook.com/" title="Facebook" target="_blank"><i class="icon-facebook"></i></a></li>
                            
                            
                            <li><a href="https://google.com/" title="Google-Plus" target="_blank"><i class="icon-google-plus"></i></a></li>
                            
                            
                            <li><a href="http://weibo.com/" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a></li>
                            
                            <li class="nolink"><span>Welcome!</span></li>
                        </ul>
                    </nav>
                    <!--// Info-bar -->
                </div>
                <!-- // .container -->
                <div class="learnmore sb-toggle-right">More</div>
                <button type="button" class="navbar-toggle menu-icon sb-toggle-right" title="More">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar before"></span>
                <span class="icon-bar main"></span>
                <span class="icon-bar after"></span>
                </button>
            </div>
            <!-- // .navbar-inner -->
        </div>

        <!-- ============================ Header & Logo bar =========================== -->


      
<section id="intro">
    <div class="container">
        <div class="row col-md-offset-2">
            <div class="col-md-8">
    			<span class="post-meta">
      <time datetime="2019-05-07T12:00:41.000Z" itemprop="datePublished">
          2019-05-07
      </time>
    
</span>
                <h1>Homework5</h1>
            </div>
        </div>
        <div class="col-md-8 col-md-offset-2">
      		<script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"> </script>

<script type="text/x-mathjax-config">
 MathJax.Hub.Config({    
tex2jax: {inlineMath: [['$', '$']]},    
messageStyle: "none"    
});    
</script>

<p><em>Yufeng Gu &amp; Huajin Yu, WISE</em></p>
<h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>The growth of classification and regression trees (CART) brings about two main concerns. One is how to choose a proper indicator, and the other is how we can find the best spilt point for the variable we choose. In this report, we introduce two widely used measures of CART, including their basic ideas, mathematical insights and processing strategy.</p>
<h2 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1 Introduction"></a>1 Introduction</h2><p>Decision tree is one of the most popular methods of machine learning. As its name suggests, a decision tree consists of one root and lots of  leaves, as well as some internal nodes linking them. Each leaf corresponds to one decision result, while each internal node represents an attribute test.</p>
<p>The tree  follows a recursive process applying  “divide-and-conquer” strategy. People compare their observations with the initial-set critical value for these variables. It’s obvious that tree methods strongly lie on the mathematical background.</p>
<h2 id="2-Measures-for-Classification-Tree"><a href="#2-Measures-for-Classification-Tree" class="headerlink" title="2 Measures for Classification Tree"></a>2 Measures for Classification Tree</h2><p>The optimal grouping variable and optimal spilt point are defined as those who lead to largest decrease in node impurity. Because of different types of input variables, measures for classification trees and regression trees are not exactly the same. In this section, we focus on classification.</p>
<h3 id="2-1-Gini-Coefficient"><a href="#2-1-Gini-Coefficient" class="headerlink" title="2.1 Gini Coefficient"></a>2.1 Gini Coefficient</h3><p>The Gini coefficient is defined as:<br>$$<br>G=1-\sum_{j=1}^k{p^2(j)}<br>$$<br>Where $k$ denotes the amount of classes for inputs, and $p(j)$ the proportion of outputs that fall in class $j$. Particularly, if all the outputs in the sample belong to the same class, there exists $G_{\min}=0$. If each class has a proportion equal to $\frac{1}{k}$, we can get the largest Gini coefficient $G_{\max}=1-\frac{1}{k}$.</p>
<p>In a classification tree, the Gini coefficient for a node $t$ is defined as:<br>$$<br>G(t)=1-\sum_{j=1}^k{p^2(j\vert t)}<br>$$<br>Where $p(j\vert t)=\frac{p(j,t)}{\sum_j{p(j,t)}}$ and $p(j,t)=\frac{N_{j,t}}{N_j}$. $p(j\vert t)$ can be interpreted as conditional probability and $N_{j,t}$ denotes the sample size of those inputs belong to class $j$. The clustering operation $\sum_j{p(j,t)}$ aims to make the Gini coefficients of different nodes comparable.</p>
<p>Based on these concepts, people use the reduction of Gini coefficient to measure the decrease of impurity, whose mathematical form is:<br>$$<br>\Delta G(t)=G(t)-{\frac{N_r}{N}G(t_r)+\frac{N_l}{N}G(t_l)}<br>$$<br>Where $G(t)$ and $N$ is respectively the Gini coefficient and sample size of initial node $t$, and $G(t_l), N_l$ and $G(t_r), N_r$ denote those of two subnodes. The big parentheses denote the weighted average of two subnodes. The optimal category variable and spilt point can be obtained through the function $\arg_{r,l}\max{\Delta G(t)}$.</p>
<h3 id="2-2-Information-Entropy-and-Gain-Ratio"><a href="#2-2-Information-Entropy-and-Gain-Ratio" class="headerlink" title="2.2 Information Entropy and Gain Ratio"></a>2.2 Information Entropy and Gain Ratio</h3><p>The information entropy is the most commonly used indicator for measuring the impurity of a sample set. Information theory is first proposed by C. E. Shannon (1948), which mainly deals with problems in information transfer.</p>
<p>There are two points worth noting:</p>
<ol>
<li>Information transfer is achieved through a delivery system consisting of source, channel and sink. The source is the sender of the information, and the sink is the receiver of the information</li>
<li>The delivery system exists in a random interference environment, and thus there is a random error in the transmission of information.</li>
</ol>
<p>Let $U$ denote the message sent and $V$ denote the message received, then we can define a channel model $P(U\vert V)$. The channel transmission probability matrix $P(U\vert V)$ is a conditional probability matrix:<br>$$<br>\begin{bmatrix}<br>P(u_1|v_1) &amp; P(u_2|v_1) &amp; \cdots &amp; P(u_r|v_1) \\<br>P(u_1|v_2) &amp; P(u_2|v_2) &amp; \cdots &amp; P(u_r|v_2) \\<br>\vdots &amp; \vdots &amp; \ &amp; \vdots \\<br>P(u_1|v_q) &amp; P(u_2|v_q) &amp; \cdots &amp; P(u_r|v_q)<br>\end{bmatrix}<br>$$<br>Where $P(u_i\vert v_j)$ denotes the probability of sending $u_i$ conditional on receiving $v_j$, and there should exist $\sum_{i=1}^r{P(u_i\vert v_j)}=1\ (j=1,2,\cdots,q)$.</p>
<p>The amount of information is defined as:<br>$$<br>I(u_i)=\log_2{\frac{1}{P(u_i)}}=-\log_2{P(u_i)}<br>$$<br>Given all the definition above, the information entropy is the expectation of the amount of information:<br>$$<br>Ent(U)=\sum_i{P(u_i)\log_2{\frac{1}{P(u_i)}}}=-\sum_i{P(u_i)\log_2{P(u_i)}}<br>$$<br>Particularly, if $P(u_i)=1$, the probability of sending $u_i$ is 100%, and there is no uncertainty in transmission, $Ent(U)=0$. If $r$ messages have the same sending probability, i.e. $P(u_i)=\frac{1}{r}\ (I=1,2,\cdots,r)$, we have the largest uncertainty in transmission and $Ent(U)=-\log_2{\frac{1}{r}}$.</p>
<p>We can further derive the posterior entropy given receiving message $v_j$:<br>$$<br>Ent(U\vert v_j)=\sum_i{P(u_i\vert v_j)\log_2{\frac{1}{P(u_i\vert v_j)}}}=-\sum_i{P(u_i\vert v_j)\log_2{P(u_i\vert v_j)}}<br>$$<br>The expectation of posterior entropy can be written as:<br>$$<br>Ent(U\vert V)=\sum_j{P(v_j)[-\sum_i{P(u_i\vert v_j)\log_2{P(u_i\vert v_j)}}]}<br>$$<br>The notation $Ent(U\vert V)$ is also called conditional entropy or channel equivocation. Usually, there exists $Ent(U\vert V)&lt;Ent(U)$. Thus, we can take difference between these two entropy, obtaining the gain ratio:<br>$$<br>Gains(U,V)=Ent(U)-Ent(U\vert V)<br>$$<br>The gain ratio captures how much uncertainty information $V$ eliminates.</p>
<p>In a classification tree, if we regard the value of input as $V$ and output as $U$, the measure for decrease of impurity can be defined:<br>$$<br>Gains(t)=Ent(t)-{\frac{N_r}{N}Ent(t_r)+\frac{N_l}{N}Ent(t_l)}<br>$$<br>The interpretation for notations is the same as that for Gini coefficient. The optimal category variable and spilt point can be obtained through the function $\arg_{r,l}\max{Gains(t)}$.</p>
<h2 id="3-Measure-for-Regression-Tree"><a href="#3-Measure-for-Regression-Tree" class="headerlink" title="3 Measure for Regression Tree"></a>3 Measure for Regression Tree</h2><p>Here we only talk about the case of numerical inputs. Since the outputs for a regression tree are numerical, the variance may be an ideal indicator, which can be written in the following form:<br>$$<br>R(t)=\frac{1}{N_t-1}\sum_{i=1}^N{[y_i(t)-\bar{y}(t)]^2}<br>$$<br>Where $N_t$ denotes the sample size of node $t$ and $y_i(t)$ is the output for the $i^{th}$ observation in node $t$. We also calculate the average for all outputs in node $t$, $\bar{y}(t)$.</p>
<p>In this way, the reduction of variance can be used to measure the decrease of impurity:<br>$$<br>\Delta R(t)=R(t)-{\frac{N_r}{N}R(t_r)+\frac{N_l}{N}R(t_l)}<br>$$<br>The interpretation here is similar to that for Gini coefficient.</p>
<h2 id="4-Summary"><a href="#4-Summary" class="headerlink" title="4 Summary"></a>4 Summary</h2><p>We mainly introduce two measures for node impurity: the Gini coefficient and information entropy. In spite of different theoretical background, they still have something in common. In general, both of them try to maximize the expectation of impurity decrease. Equivalently, when we are applying one of these two measures, we actually want to find the best strategy that accounts for minimal bias.</p>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ol>
<li>Freund, Yoav, and Llew Mason. “The alternating decision tree learning algorithm.” <em>icml</em>. Vol. 99. 1999.</li>
<li>Friedl, Mark A., and Carla E. Brodley. “Decision tree classification of land cover from remotely sensed data.” <em>Remote sensing of environment</em> 61.3 (1997): 399-409.</li>
<li>Gastwirth, Joseph L. “The estimation of the Lorenz curve and Gini index.” <em>The review of economics and statistics</em> (1972): 306-316.</li>
<li>Knuth, Donald E., and Ronald W. Moore. “An analysis of alpha-beta pruning.” <em>Artificial intelligence</em> 6.4 (1975): 293-326.</li>
<li>Kohavi, Ron. “Scaling up the accuracy of naive-bayes classifiers: A decision-tree hybrid.” <em>Kdd</em>. Vol. 96. 1996.</li>
<li>Lerman, Robert I., and Shlomo Yitzhaki. “A note on the calculation and interpretation of the Gini index.” <em>Economics Letters</em> 15.3-4 (1984): 363-368.</li>
<li>Quinlan, J. Ross. “Bagging, boosting, and C4. 5.” <em>AAAI/IAAI, Vol. 1</em>. 1996.</li>
<li>Quinlan, J. Ross. “Induction of decision trees.” <em>Machine learning</em> 1.1 (1986): 81-106.</li>
<li>Safavian, S. Rasoul, and David Landgrebe. “A survey of decision tree classifier methodology.” <em>IEEE transactions on systems, man, and cybernetics</em> 21.3 (1991): 660-674.</li>
<li>Walke, Rainer. “Example For A Piecewise Constant Hazard Data Simulation in R.” <em>Max Planck Institute for Demographic Research</em> (2010).</li>
<li>Wang, Guo-yin, Hong Yu, and D. C. Yang. “Decision table reduction based on conditional information entropy.” <em>CHINESE JOURNAL OF COMPUTERS-CHINESE EDITION-</em>25.7 (2002): 759-766.</li>
<li>Xue, Wei. <em>Data Mining with R</em>. China Renmin University Press: 150-186.</li>
<li>Zhou, Zhihua. <em>Machine Learning</em>. Tsinghua University Press (2016): 73-95.</li>
</ol>

            <div class="clearfix"></div>
            <hr class="nogutter">
        </div>
        <nav class="m-pagination col-md-8 col-md-offset-2 col-sm-24" role="pagination">
    
    <a class="pull-left" href="/2019/05/08/Homework4/" style="float: left;">
        ← Homework4
    </a>
    
    
</nav>

        <div class="col-md-8 col-md-offset-2 col-sm-24"><script type="text/javascript">
  /**
   * 搜狐畅言
   */

  /*
  document.write('<div id="SOHUCS" sid="' + window.location.pathname.slice(1) + '" ></div>');

  window.onload = function () {
    (function () {
      var appid = 'cytXXXX';
      var conf = 'prod_xxxxxxxxxxxxxxxxx';
      var width = window.innerWidth || document.documentElement.clientWidth;
      var loadJs = function (d, a, id) {
        var c = document.getElementsByTagName("head")[0] || document.head || document.documentElement;
        var b = document.createElement("script");
        b.setAttribute("type", "text/javascript");
        b.setAttribute("charset", "UTF-8");
        b.setAttribute("src", d);
        if (id) {
          b.setAttribute("id", id);
        }
        if (typeof a === "function") {
          if (window.attachEvent) {
            b.onreadystatechange = function () {
              var e = b.readyState;
              if (e === "loaded" || e === "complete") {
                b.onreadystatechange = null;
                a()
              }
            }
          } else {
            b.onload = a
          }
        }
        c.appendChild(b)
      };

      loadJs("https://changyan.sohu.com/upload/changyan.js", function () {
        window.changyan.api.config({
          appid: appid,
          conf: conf
        })
      });
    })();
  }
  */

</script>
</div>
    </div>
</section>


      
<!-- ============================ Footer =========================== -->

<footer>
    <div class="container">
            <div class="copy">
                <p>
                    &copy; 2014<script>new Date().getFullYear()>2010&&document.write("-"+new Date().getFullYear());</script>, Content By Huajin Yu. All Rights Reserved.
                </p>
                <p>Theme By <a href="//go.kieran.top" style="color: #767D84">Kieran</a></p>
            </div>
            <div class="social">
                <ul>
                    
                    <li><a href="https://github.com/" title="Github" target="_blank"><i class="icon-github"></i></a>&nbsp;</li>
                    
                    
                    <li><a href="https://twitter.com/" title="Twitter" target="_blank"><i class="icon-twitter"></i></a>&nbsp;</li>
                    
                    
                    <li><a href="https://www.facebook.com/" title="Facebook" target="_blank"><i class="icon-facebook"></i></a>&nbsp;</li>
                    
                    
                    <li><a href="https://google.com/" title="Google-Plus" target="_blank"><i class="icon-google-plus"></i></a>&nbsp;</li>
                    
                    
                    <li><a href="http://weibo.com/" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a>&nbsp;</li>
                    
                </ul>
            </div>
            <div class="clearfix"> </div>
        </div>
</footer>

<!-- ============================ END Footer =========================== -->
      <!-- Load our scripts -->
<!-- Resizable 'on-demand' full-height hero -->
<script type="text/javascript">
    var resizeHero = function () {
        var hero = $(".cover,.heightblock"),
            window1 = $(window);
        hero.css({
            "height": window1.height()
        });
    };

    resizeHero();

    $(window).resize(function () {
        resizeHero();
    });
</script>
<script src="/js/plugins.min.js"></script><!-- Bootstrap core and concatenated plugins always load here -->
<script src="/js/scripts.js"></script><!-- Theme scripts -->


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$('#intro').find('img').each(function(){
  var alt = this.alt;

  if (alt){
    $(this).after('<span class="caption" style="display:none">' + alt + '</span>');
  }

  $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="gallery" />');
});
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



      
</body>
</html>
